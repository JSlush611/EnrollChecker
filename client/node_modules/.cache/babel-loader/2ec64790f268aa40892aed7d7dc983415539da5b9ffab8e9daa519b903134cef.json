{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanschluesche/Desktop/EnrollChecker/client/src/scenes/widgets/CourseWidget.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Box, Typography, useTheme, Button } from \"@mui/material\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport WidgetWrapper from \"components/WidgetWrapper\";\nimport { setSubscriptions } from \"state\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CourseWidget = _ref => {\n  _s();\n  let {\n    courseId,\n    title,\n    credits,\n    termCode,\n    subjectCode,\n    courseID,\n    courseDesignation,\n    subscribed\n  } = _ref;\n  const dispatch = useDispatch();\n  const token = useSelector(state => state.token);\n  const loggedInUserId = useSelector(state => state.user._id);\n  const {\n    palette\n  } = useTheme();\n  const primary = palette.primary.main;\n  const [isSubscribed, setIsSubscribed] = useState(subscribed);\n  const subscribeCourse = async () => {\n    const response = await fetch(`http://localhost:3001/courses/subscribe/${loggedInUserId}/${courseId}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const data = await response.json();\n    dispatch(setSubscriptions({\n      subscriptions: data\n    }));\n    setIsSubscribed(true);\n  };\n  const unsubscribeCourse = async () => {\n    const response = await fetch(`http://localhost:3001/courses/unsubscribe/${loggedInUserId}/${courseId}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const data = await response.json();\n    dispatch(setSubscriptions({\n      subscriptions: data\n    }));\n    setIsSubscribed(false);\n  };\n  const handleToggleSubscription = async () => {\n    if (isSubscribed) {\n      await unsubscribeCourse();\n    } else {\n      await subscribeCourse();\n    }\n    setIsSubscribed(!isSubscribed); // Toggle the value\n  };\n\n  useEffect(() => {\n    setIsSubscribed(subscribed);\n  }, [subscribed]);\n  return /*#__PURE__*/_jsxDEV(WidgetWrapper, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      p: \"1rem\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        sx: {\n          color: primary\n        },\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          children: `Credits: ${credits}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          children: `Course Designation: ${courseDesignation}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: handleToggleSubscription,\n        sx: {\n          marginLeft: \"1rem\"\n        },\n        children: isSubscribed ? \"Unsubscribe\" : \"Subscribe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(CourseWidget, \"HglA89W6QmDWSnFgKgpnUuQSZSs=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useTheme];\n});\n_c = CourseWidget;\nexport default CourseWidget;\nvar _c;\n$RefreshReg$(_c, \"CourseWidget\");","map":{"version":3,"names":["React","Box","Typography","useTheme","Button","useDispatch","useSelector","WidgetWrapper","setSubscriptions","useState","useEffect","jsxDEV","_jsxDEV","CourseWidget","_ref","_s","courseId","title","credits","termCode","subjectCode","courseID","courseDesignation","subscribed","dispatch","token","state","loggedInUserId","user","_id","palette","primary","main","isSubscribed","setIsSubscribed","subscribeCourse","response","fetch","method","headers","Authorization","data","json","subscriptions","unsubscribeCourse","handleToggleSubscription","children","p","display","justifyContent","alignItems","variant","sx","color","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginLeft","_c","$RefreshReg$"],"sources":["/Users/jonathanschluesche/Desktop/EnrollChecker/client/src/scenes/widgets/CourseWidget.jsx"],"sourcesContent":["import React from \"react\";\nimport { Box, Typography, useTheme, Button } from \"@mui/material\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport WidgetWrapper from \"components/WidgetWrapper\";\nimport { setSubscriptions } from \"state\";\nimport { useState, useEffect } from \"react\";\n\nconst CourseWidget = ({\n  courseId,\n  title,\n  credits,\n  termCode,\n  subjectCode,\n  courseID,\n  courseDesignation,\n  subscribed,\n}) => {\n  const dispatch = useDispatch();\n  const token = useSelector((state) => state.token);\n  const loggedInUserId = useSelector((state) => state.user._id);\n\n  const { palette } = useTheme();\n  const primary = palette.primary.main;\n\n  const [isSubscribed, setIsSubscribed] = useState(subscribed);\n\n  const subscribeCourse = async () => {\n    const response = await fetch (\n      `http://localhost:3001/courses/subscribe/${loggedInUserId}/${courseId}`,\n      {\n        method: \"GET\",\n        headers: { Authorization: `Bearer ${token}` },\n      }\n    );\n    const data = await response.json();\n    dispatch(setSubscriptions({ subscriptions: data }));\n    setIsSubscribed(true);\n  };\n\n  const unsubscribeCourse = async () => {\n    const response = await fetch (\n      `http://localhost:3001/courses/unsubscribe/${loggedInUserId}/${courseId}`,\n      {\n        method: \"GET\",\n        headers: { Authorization: `Bearer ${token}` },\n      }\n    );\n    const data = await response.json();\n    dispatch(setSubscriptions({ subscriptions: data }));\n    setIsSubscribed(false);\n  };\n\n  const handleToggleSubscription = async () => {\n    if (isSubscribed) {\n      await unsubscribeCourse();\n    } else {\n      await subscribeCourse();\n    }\n    setIsSubscribed(!isSubscribed); // Toggle the value\n  };\n\n  useEffect(() => {\n    setIsSubscribed(subscribed);\n  }, [subscribed]);\n\n  return (\n    <WidgetWrapper>\n      <Box\n        p=\"1rem\"\n        display=\"flex\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n      >\n        <Typography variant=\"h6\" sx={{ color: primary }}>\n          {title}\n        </Typography>\n        <Box>\n          <Typography variant=\"body1\">{`Credits: ${credits}`}</Typography>\n          <Typography variant=\"body1\">{`Course Designation: ${courseDesignation}`}</Typography>\n        </Box>\n        <Button\n          variant=\"outlined\"\n          onClick={handleToggleSubscription}\n          sx={{ marginLeft: \"1rem\" }}\n        >\n          {isSubscribed ? \"Unsubscribe\" : \"Subscribe\"}\n        </Button>\n      </Box>\n    </WidgetWrapper>\n  );\n};\n\nexport default CourseWidget;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}