{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanschluesche/Desktop/EnrollChecker/client/src/scenes/widgets/CoursesWidget.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setCourses } from \"state\";\nimport CourseWidget from \"./CourseWidget\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CoursesWidget = _ref => {\n  _s();\n  let {\n    userId,\n    isProfile = false\n  } = _ref;\n  const dispatch = useDispatch();\n  const courses = useSelector(state => state.courses);\n  const token = useSelector(state => state.token);\n  const getCourses = async () => {\n    const response = await fetch(\"http://localhost:3001/courses/show\", {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const data = await response.json();\n    dispatch(setCourses({\n      courses: data\n    }));\n  };\n  const getUserCourses = async () => {\n    const response = await fetch(`http://localhost:3001/users/${userId}/subscriptions`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const data = await response.json();\n    dispatch(setCourses({\n      courses: data\n    }));\n  };\n  const CourseList = _ref2 => {\n    let {\n      filteredCourses\n    } = _ref2;\n    console.log(CourseList);\n  };\n  useEffect(() => {\n    if (isProfile) {\n      getUserCourses();\n    } else {\n      getCourses();\n      CourseList();\n    }\n    // eslint-disable-next-line\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: courses.map(_ref3 => {\n      let {\n        _id,\n        title,\n        credits,\n        termCode,\n        subjectCode,\n        courseID,\n        courseDesignation,\n        subscribed\n      } = _ref3;\n      return /*#__PURE__*/_jsxDEV(CourseWidget, {\n        courseId: _id,\n        title: title,\n        credits: credits,\n        termCode: termCode,\n        subjectCode: subjectCode,\n        courseID: courseID,\n        courseDesignation: courseDesignation,\n        subscribed: subscribed\n      }, _id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 20\n      }, this);\n    })\n  }, void 0, false);\n};\n_s(CoursesWidget, \"WgLiCOA+sUfTwVI8hYdHZg69jyc=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = CoursesWidget;\nexport default CoursesWidget;\nvar _c;\n$RefreshReg$(_c, \"CoursesWidget\");","map":{"version":3,"names":["useEffect","useDispatch","useSelector","setCourses","CourseWidget","jsxDEV","_jsxDEV","Fragment","_Fragment","CoursesWidget","_ref","_s","userId","isProfile","dispatch","courses","state","token","getCourses","response","fetch","method","headers","Authorization","data","json","getUserCourses","CourseList","_ref2","filteredCourses","console","log","children","map","_ref3","_id","title","credits","termCode","subjectCode","courseID","courseDesignation","subscribed","courseId","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jonathanschluesche/Desktop/EnrollChecker/client/src/scenes/widgets/CoursesWidget.jsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setCourses } from \"state\";\nimport CourseWidget from \"./CourseWidget\";\n\n\nconst CoursesWidget = ( { userId, isProfile = false}) => {\n   const dispatch = useDispatch();\n   const courses = useSelector((state) => state.courses);\n   const token = useSelector((state) => state.token);\n\n\n   const getCourses = async () => {\n       const response = await fetch (\"http://localhost:3001/courses/show\", {\n           method: \"GET\",\n           headers: { Authorization: `Bearer ${token}` },\n       });\n  \n   const data = await response.json();\n   dispatch(setCourses({ courses: data}));\n   };\n\n\n   const getUserCourses = async () => {\n       const response = await fetch (`http://localhost:3001/users/${userId}/subscriptions`,\n       {\n           method: \"GET\",\n           headers: { Authorization: `Bearer ${token}` },\n       });\n  \n   const data = await response.json();\n   dispatch(setCourses({ courses: data}));\n   };\n\n   const CourseList = ({ filteredCourses}) => {\n    console.log(CourseList)\n   }\n\n\n   useEffect(() => {\n       if (isProfile) {\n           getUserCourses();\n       } else {\n           getCourses();\n           CourseList();\n       }\n       // eslint-disable-next-line\n   }, []);\n\n\n   return (\n       <>\n           {courses.map(\n               ({\n                   _id,\n                   title,\n                   credits,\n                   termCode,\n                   subjectCode,\n                   courseID,\n                   courseDesignation,\n                   subscribed,\n               }) => (\n                   <CourseWidget\n                   key={_id}\n                   courseId={_id}\n                   title={title}\n                   credits={credits}\n                   termCode={termCode}\n                   subjectCode={subjectCode}\n                   courseID={courseID}\n                   courseDesignation={courseDesignation}\n                   subscribed={subscribed}\n                   />\n               )\n           )}\n       </>\n   );\n};\n\n\nexport default CoursesWidget"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}